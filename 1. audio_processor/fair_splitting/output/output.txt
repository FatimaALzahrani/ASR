
PS C:\Users\فاطمة الزهراني\Desktop\ابحاث\الداون\Codes\Clean\1. audio_processor\fair_splitting> python main.py
Fair Data Splitting Tool
==============================
Step 1: Evaluating current data distribution
Loading current data...
Total data loaded: 1292 samples

Fairness Evaluation:
==============================
Coefficient of Variation: 0.603
Min/Max Ratio: 0.037
Speaker percentages in test set:
  هيفاء: 35.8%
  أسيل: 26.5%
  أحمد: 24.3%
  وسام: 11.9%
  عاصم: 1.3%
Assessment: Unfair distribution - consider running fair splitting

Step 2: Creating fair data splits
Fair Data Splitting for Down Syndrome Speech Recognition
======================================================================
Loading current data...
Total data loaded: 1292 samples

Analyzing current problematic distribution:
==================================================
Speaker distribution in current test set:
  هيفاء: 81 samples (35.8%)
  أسيل: 60 samples (26.5%)
  أحمد: 55 samples (24.3%)
  وسام: 27 samples (11.9%)
  عاصم: 3 samples (1.3%)

Statistics per speaker:
  هيفاء: 351 samples, 55 unique words
  أسيل: 301 samples, 57 unique words
  أحمد: 427 samples, 58 unique words
  عاصم: 64 samples, 15 unique words
  وسام: 149 samples, 22 unique words
Creating fair data splits...
==================================================
Splitting by speaker:

هيفاء: 351 samples
  -> Training: 253, Validation: 42, Test: 56

أسيل: 301 samples
  -> Training: 218, Validation: 27, Test: 56

أحمد: 427 samples
  -> Training: 315, Validation: 42, Test: 70

عاصم: 64 samples
  -> Training: 46, Validation: 6, Test: 12

وسام: 149 samples
  -> Training: 108, Validation: 17, Test: 24

New fair distribution:
==================================================
Dataset sizes:
  Training: 940 samples
  Validation: 134 samples
  Test: 218 samples

Speaker distribution in new test set:
  أحمد: 70 samples (32.1%)
  هيفاء: 56 samples (25.7%)
  أسيل: 56 samples (25.7%)
  وسام: 24 samples (11.0%)
  عاصم: 12 samples (5.5%)

Distribution comparison:
Speaker  | Train  | Val   | Test   | Total
--------------------------------------------------
هيفاء    |    253 |    42 |     56 |     351
أسيل     |    218 |    27 |     56 |     301
أحمد     |    315 |    42 |     70 |     427
عاصم     |     46 |     6 |     12 |      64
وسام     |    108 |    17 |     24 |     149
Saving fair splits...
Backup of old split saved: data\processed\backup_unfair
Fair split saved to: data\processed
Split statistics saved: fair_split_stats.json

Fair splitting completed successfully!
All speakers are now fairly represented in all datasets
You can now retrain the models for fair results

Step 3: Comparing old vs new distributions

Quick distribution comparison:
Old distribution (unfair):
  هيفاء: 81 samples
  أسيل: 60 samples
  أحمد: 55 samples
  وسام: 27 samples
  عاصم: 3 samples

New distribution (fair):
  أحمد: 70 samples
  هيفاء: 56 samples
  أسيل: 56 samples
  وسام: 24 samples
  عاصم: 12 samples

Recommendation:
Retrain your models now to get fair and accurate results!